@{
	ViewBag.Title = "Manage Account";
}

@section Scripts {
	<script>
		var CurrentUser = @Html.Raw(Json.Encode(this.User.Identity));
	</script>

	@Scripts.Render("~/bundles/angularjs", "~/bundles/angularui")

	@Scripts.Render("~/bundles/usermanager")
}

<h2>Manage Account</h2>

<div ng-app="UserManager">
	<div ng-form="UserForm" ng-controller="UserController" style="width: 400px;">
		<p>
			<label>Email</label>
			<input class="form-control" ng-model="User.Email" type="email" required email-unique-validator ng-model-options="ModelValidateOptions" />
		</p>
		<p>
			<label>First Name</label>
			<input class="form-control" ng-model="User.FirstName" required />
		</p>
		<p>
			<label>Last Name</label>
			<input class="form-control" ng-model="User.LastName" required />
		</p>
		<p>
			<a style="cursor: pointer;" ng-click="ChangePassword()">Change password</a>
			<button class="btn btn-success" style="float: right;" ng-click="Save()" ng-disabled="FormValidation()">Save</button>
		</p>
	</div>
</div>